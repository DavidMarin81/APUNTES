# Cómo conectar un `Backend` en C# con un `FrontEnd` en React
## Crear un proyecto en C#
- Crear el backend
- Crear el frontend con vite 
    - Crear carpeta `ClientApp`
    - Crear un proyecto con vite (`npm create vite@latest`)
    - Arrancar el proyecto (`npm run dev`)

## Comunicar el backend con el frontend
- En el fichero `vite.config.js`
    ~~~js
    import { defineConfig } from 'vite'
    import react from '@vitejs/plugin-react'

    export default defineConfig({
        plugins: [react()],
        server: {
            proxy: {
                '/api': {
                    target: 'https://localhost:7259', // url del backend
                    changeOrigin: true,
                    secure: false
                }
            }
        }
    })
    ~~~

## Para comprobar que se comunican y no hay problemas
- Creamos un endpoint
    ~~~csharp
    [HttpGet("ping")]
    public IActionResult Ping()
    {
        return Ok(new { message = "Backend conectado correctamente" });
    }
    ~~~
- Ponemos un boton en `App,jsx`
    ~~~js
    import React from "react";

    function App() {
        const checkBackend = async () => {
            try {
                const res = await fetch("/api/account/ping", {
                    credentials: "include" // importante si usarás cookies
                });
                const data = await res.json();
                console.log("Respuesta del backend:", data);
            } catch (err) {
                console.error("Error conectando con backend:", err);
            }
        };

        return (
            <div>
                <button onClick={checkBackend}>Comprobar Backend</button>
            </div>
        );
    }

    export default App;
    ~~~
- Si todo funciona bien, al pulsar el botón deberiamos ver el mensaje en la consola